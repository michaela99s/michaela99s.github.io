---
layout: post
title: 로지스틱 회귀
description: >
  분류 문제에서 가장 기본이 되는 로지스틱 회귀를 알아봅니다.
sitemap: false
hide_last_modified: true
---

본격적으로 분류 알고리즘에는 어떠한 것이 있는지 알아보도록 하겠습니다. 

우선 필요한 라이브러리를 임포트하고 전처리된 타이타닉 데이터셋을 불러옵니다.
불러온 데이터셋을 레이블 변수 y와 피쳐 변수 X로 나누어준 후 트레인셋과 테스트셋으로 분할합니다. 이 때, 테스트셋의 비율은 20%로 설정하였습니다.
또한, 각 변수의 범위에 따른 효과를 제거하기 위하여 트레인셋의 X를 기준으로 MinMax 스케일링을 적용합니다.  

```python
import numpy as np
import pandas as pd
import matplotlib.pyplot as plt
import seaborn as sns
%matplotlib inline
plt.style.use('ggplot')

from scipy.stats import randint
from sklearn.preprocessing import MinMaxScaler
from sklearn.model_selection import train_test_split, KFold, cross_val_score, GridSearchCV, RandomizedSearchCV
from sklearn.metrics import accuracy_score
```

```python
df = pd.read_csv("titanic_pre.csv", index_col=0)

y = df['Survived']
X = df.drop('Survived', axis=1)

X_train, X_test, y_train, y_test = train_test_split(X, y, test_size=0.2, random_state=42)
```

```python
minmax = MinMaxScaler()
minmax.fit(X_train)
X_train_scaled = pd.DataFrame(minmax.transform(X_train),
                              columns=['Pclass', 'Sex', 'Age', 'SibSp', 'Parch', 'Fare', 'Embarked'])
X_test_scaled = pd.DataFrame(minmax.transform(X_test),
                             columns=['Pclass', 'Sex', 'Age', 'SibSp', 'Parch', 'Fare', 'Embarked'])

X_train_scaled[['Age', 'SibSp', 'Parch', 'Fare']].hist(figsize=(15,15))
```

![](data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAbIAAAGsCAYAAAC4ryL3AAAAOXRFWHRTb2Z0d2FyZQBNYXRwbG90bGliIHZlcnNpb24zLjUuMSwgaHR0cHM6Ly9tYXRwbG90bGliLm9yZy/YYfK9AAAACXBIWXMAAAsTAAALEwEAmpwYAAA+3klEQVR4nO3de3QU9f3/8edmQwJhQ8gmXCSKNkCqBCyUIBGQRFhvYDGlHloUKlpEjcKJFBFpBVtEUyEEw+Urig222lPpOZJvixd+jQFSRTQh4SJwuAhWUSAkG0MSoOQyvz/4siUGciG72Znk9TjHc7KzM7OvGfPhnfnszOdjMwzDQERExKIC/B1ARESkJVTIRETE0lTIRETE0lTIRETE0lTIRETE0lTIRETE0lTIREQa8Nxzz9G3b9/Lvhb/UyGzkG+++Ybg4GB69epFdXW1v+OIWN6ZM2d49tln6devH506dcLpdDJ06FAyMjI868yePZtt27Y1e9+ZmZkMGTKELl26EBoayg033MDDDz/szfjyfwL9HUCa7vXXX+fuu+9m3759/OMf/+CnP/2pvyOJWNpjjz3Gpk2bePnll/nRj37EqVOnKCws5KuvvvKs43A4cDgczdrv2rVreeyxx1iyZAm33347APv27eN///d/vZpf/o8hllBTU2P07t3b+Pvf/26kpqYad955Z533i4uLjXvvvdcICQkxunfvbvz2t781fvnLXxpjxoyps15GRobxwx/+0AgODjb69u1rPP/880ZVVVVrHoqIaYSFhRnLly9vcJ0FCxYYffr0qff6rbfeMn7wgx8YwcHBhsvlMo4cOeJZ55577jF+9rOfNbjfzMxMw263G//85z+N/v37G8HBwcZNN91kFBYWtuSQ2iV1LVrE+++/z3/+8x/uuusupkyZwocffsiXX37pef/BBx9k586dbNiwgZycHI4ePUpWVladfTz33HMsWbKEF198kX379vHyyy+zevVqfve737XuwYiYxFVXXcUHH3yA2+1u1nbHjh1j1apVrFu3jn/961+cOnWKCRMmYPzfiH9XXXUV+fn5HDhwoMH91NbWMmfOHFatWsVnn31Gt27dGDduHGfOnLniY2qX/F1JpWnGjx9vzJo1y/P6jjvuMH7zm98YhmEYBw4cMAAjOzvb8/65c+eMq6++2nNFVllZaXTq1Ml4//336+z3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3z6uuuoqHnjgASIjI+tt669zdvLkSYqKihgwYIBnmS/PWWPcbjeRkZGe1xEREbjdbp+eL38wa3traraLtVabM2t7a042aPttzu/fkVldbm4uhw8f5rnnnvMsW7VqFU6nkxMnTvD73/+e3r1707Nnz1bLNGTIEEaMGEGHDh345z//ycqVK1mwYEGrfX5jPv74Y+Lj4wkI+G+HgL/PmViH2dqc2dsbtP0259euxaYMrXPxOjU1NZw+fZrQ0NB627rdbq8Ny9PUIX927drF+vXrmTNnDh06dKizPUCPHj3o378/X375pVdyNTVbaGioJ8+YMWM4fPjwJbf1xzkD2Lp1KyNGjKi3PfjmnDXG6XRSXFzseX0huy/Plz+Ytb01NRu0fpsza3trarYL2nqb82sha8rQOkOGDGHz5s0AbNu2jdjYWGw2G3FxcWzdupWqqiqKioo4duwYffv2bbVcR44c4bXXXmPOnDmEhYV5lldUVFBVVQXAqVOn2L9/v1en02hKttLSUs/P+fn5ns8fNGgQO3fupKKigoqKCnbu3Om1O8+aOkzSN998Q2VlJTExMZ5lvj5njYmLiyM3NxfDMDhw4AAhISGEh4f79Hz5g1nbW1Oz+aPNmbW9NTUbtI825/eRPQoKCnjjjTc8Q+tMmDCBt99+mz59+hAXF8e5c+dYsWIFR44cweFwkJKS4pl36Z133mHTpk0EBAQwdepUBg8e3Gq5Fi5cyFdffUXXrl2B/96+un//fl599VUCAgKora1l3LhxjB492mu5mpLtL3/5C/n5+djtdhwOB9OmTSMqKgo4/93C+vXrgfO3tt56662tlgtg3bp1VFVVcf/993u28/U5W7ZsGXv37qW8vJywsDAmTpxIdXU1ALfffjuGYfD666+zc+dOgoKCSE5Opk+fPoBvz5c/mLW9NSWbv9qcWdtbU7JB+2hzfi9kIiIiLaGRPURExNJUyERExNJUyERExNJUyERExNJUyERExNJUyERExNJUyERExNJUyERExNJUyERExNJUyERExNJUyERExNJUyERExNJUyERExNJUyERExNJUyERExNJUyERExNJUyISpU6ficrn8HUNE5IqokJnM1KlTsdls2Gw2AgMDufbaa3n00UcpKSnxdzSRduHiNnjxf3/961/9HU0uI9DfAaS+W265hXXr1lFdXc327duZNm0a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)

## 로지스틱 회귀

### 로지스틱 회귀 개요

로지스틱 회귀(Logistic Regression)은 로짓 회귀(Logit Regression)라 불리기도 하며 주어진 사건이 어떤 레이블로 분류될 지에 대한 확률을 바탕으로 분류를 진행합니다. 주어진 사건이 타겟 변수에 속할 확률이 50%가 넘으면 모델은 해당 사건을 양성(1)으로 분류하게 됩니다. 이와 같이 로지스틱 회귀는 기본적으로 이진분류 방식입니다. 

확률 계산을 위해 로지스틱 모델에서는 0과 1 사이의 값을 갖는 S자 형태의 로지스틱 함수를 사용합니다. 이 함수는 시그모이드(sigmoid) 함수라고도 합니다. 

$$
\sigma(z) = \frac{1}{1 + e^{-z}}
$$

```python
z = np.arange(-10, 10, 0.1)
sigma = 1 / (1 + np.exp(-z))

plt.figure(figsize=(6,3))
plt.plot(z, sigma)
plt.yticks(np.arange(0, 1.1, 0.25))
plt.xlabel('z')
plt.ylabel('$\sigma$')
plt.show()
```

<img src="data:image/png;base64,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0NURW9ucOXNYtWoVUVFRJCcnk52dTceOta+dEa711ZKrQ4ZSYWEhTz31FPv378cYQ1ZWFpdcckmNedatW8cf/vCHYJ6zzz6bK6+8MuTZGnpurLXMnj2bNWvWEBsbS3Z2Nn379g1ppp07dzJ9+vTgcEFBAWPHjuXSSy8Njgvn+po5cyarV68mISGBadOmAVBaWsr06dPZu3cv3bp1Y+LEicTHx9dadsmSJcybNw+AMWPGMGLEiMY/sG2ntm3bZnfs2GEffPBBu3Hjxhrjf/3rX9vy8nK7Z88ee9ttt9mqqqpay0+bNs1+8MEH1lprn376afvOO++ENO9zzz1nX3nllTqnZWdn2wMHDoT08aubO3euff311793nqqqKnvbbbfZ3bt324qKCvvrX//abtu2LaS58vPzbWVlpbXW2jlz5tg5c+bUOV841ldjvv+3337bPv3009Zaaz/44AP72GOPhTTTUX6/327atMlaa+3Bgwft7bffXivbZ599Zh999NGw5Kmuoedm1apVdvLkydZxHPvll1/anJycMKYLPK833XSTLSgoqDE+nOtr3bp1dtOmTfbOO+8MjpszZ46dP3++tdba+fPn1/naLykpsbfeeqstKSmpcbux2u1mqJ49e9Z5HpT6rsxXnbWWdevWMXToUABGjBjBihUrQpbVWsuHH37IsGHDQvYYra361RGjoqKCV0cMpTPOOAPvkWt29+/fv86LZIVLY77/lStXBv+yGzp0KJ999lngErYh1rVr1+Bf4yeccAInnXSSq+uqKVauXMl5552HMYb+/ftTVlbGvn37wvb4n376KSkpKXTr1i1sj3mstLS0Wu8aVqxYwfnnnw/A+eefX+fPWn5+PgMHDiQ+Pp74+HgGDhxIfn5+ox+33W6Gqk9jrsxXUlJCXFxc8BdTfVfvay2ff/45CQkJnHjiifXOM3nyZAAuvPDCsByh8c477/D+++/Tt29frr322lov3sZcHTGUFi1aREZGRr3TQ72+WnJ1yKOb98KhoKCALVu21Hna/6+++oq7776brl278stf/pJevXqFJdP3PTd+v7/G1d8SExPx+/107Rqe67cvW7as3j/a3FpfAAcOHAiugy5dunDgwIFa8xz7mmzq7602XRYPP/ww+6tf8e6In//85wwZMiT8gerQmIzf9wI9eh8+n48DBw7w+9//nh49epCWlhayXKNGjQpuj507dy7PP/882dnZLXq81sh1dH3NmzcPr9fLueeeW+99tPb6Oh4dPnyYadOmcf311xMXF1djWp8+fZg5cyYdOnRg9erVTJ06lSeeeCLkmSL5uamsrGTVqlVcc801taa5tb7qYowJyeWN23RZPPDAA01epjFX5uvUqRMHDx6kqqoKr9fboqv3NZSxqqqK5cuXf+9O2KOPnZCQwJAhQ9i4cWOLf8Aau+4yMzP5n//5nzozNXR1xFDkWrJkCatWreK3v/1tvT8woVhfdT1Gc68OGQ6VlZVMmzaNc889l7PPPrvW9OrlMXjwYGbNmkVxcXHI3/U09Nz4fL4ap91urddVY6xZs4Y+ffrQpUuXWtPcWl9HJSQksG/fvsAlofftq/NxfT4f69evDw77/f4mve7b7T6L+jTmynzGGAYMGMBHH30EBH5BHXvlv9by6aef0qNHjxpvH6s7fPgwhw4dCt7+5JNP6N27d0iyHFV9G/Hy5cvrfLvdmKsjtrb8/Hxef/117rnnHmJjY+ucJ1zrqyVXhww1ay1//vOfOemkk7jsssvqnGf//v3B/ScbN27EcZyQF1ljnpv09HTef/99rLV89dVXxMXFRcQmKDfWV3Xp6eksXboUgKVLl9a55WTQoEGsXbuW0tJSSktLWbt2bZ1Hetan3X4ob/ny5TzzzDMUFxfTsWNHTj75ZH7zm98Agc0YixcvxuPxcP3113PmmWcC8Oijj/KrX/0Kn8/Hnj17ePzxxyktLaVPnz5MmDCB6OjWvz72U089Rb9+/Rg1alRwnN/v5+mnnyYnJ4c9e/bwv//7v0DgXcjw4cMZM2ZMq+eo7sknn2Tr1q0YY+jWrRs333wzXbt2rZELYPXq1Tz33HPBqyOGOteECROorKwM7j/p168fN998s2vrq67vv/rVIcvLy5kxYwZbtmwJXh0yOTk5JFmq++KLL/jtb39L7969g+V09dVXB/9iHzVqFG+//TYLFy7E6/USExPDtddeyymnnBLSXPU9NwsXLgzmstYya9Ys1q5dS0xMDNnZ2TUOew+Vw4cPk52dzYwZM4LvIqrnCuf6evzxx1m/fj0lJSUkJCQwduxYhgwZwvTp0yksLKxx6OymTZt49913ueWWW4DAvrz58+cDgUNnR44c2ejHbbdlISIijafNUCIi0iCVhYiINEhlISIiDVJZiIhIg1QWIiLSIJWFiIg0SGUhIiINUlmIiEiD2vS5oUQiRV5eHn/605+Cw1VVVfTv35/f/e537oUSaQJ9glskzA4ePMhvfvMbLrnkEi688EK344g0ijZDiYSR4zg88cQTpKWlqSjkuKKyEAmjv//97xw6dIgbbrjB7SgiTaKyEAmTZcuWsWzZMu666y6iorS7UI4vKguRMNiyZQvPPPMMd999d1gvmyrSWrSDWyQMXn75ZebNm1fjmiennnoq9913n4upRBpPZSEiIg3SZigREWmQykJERBqkshARkQapLEREpEEqCxERaZDKQkREGqSyEBGRBqksRESkQSoLERFp0P8HoJ24tEVnUGAAAAAASUVORK5CYII=" title="" alt="" data-align="center">

간단히 생각하면 선형 방정식을 통해 독립변수들을 사용하여 z 값을 구한 후, 로지스틱 함수에 대입하여 확률을 구하는 방식이라고 할 수 있습니다. 그러나 실제 과정은 보다 복잡합니다. 

이제 사이킷런에 내장되어 있는 로지스틱 회귀를 불러와 분석을 진행하겠습니다. 

```python
class sklearn.linear_model.LogisticRegression(penalty='l2', *, 
dual=False, tol=0.0001, C=1.0, fit_intercept=True, 
intercept_scaling=1, class_weight=None, random_state=None, 
solver='lbfgs', max_iter=100, multi_class='auto', verbose=0, 
warm_start=False, n_jobs=None, l1_ratio=None)
```

- penalty: {'l1', 'l2', 'elasticnet', 'none'}
  규제의 종류를 설정합니다. 주의할 점은 penalty의 기본값이 l2로 설정되어 있다는 것입니다. 

- C: 실수값
  규제의 정도를 설정합니다. 이 값이 작을수록 규제의 정도는 강해집니다.

- solver: {'newton-cg', 'lbfgs', 'liblinear', 'sag', 'saga'}
  최적화 문제에서 사용할 알고리즘을 정합니다.
  
  - 작은 데이터셋에서는 'liblinear'가 좋지만 큰 데이터셋에서는 'sag'나 'saga'가 더 빠릅니다.
  
  - 다중 분류 문제에서는 'newton-cg', 'sag', 'saga', 'lbfgs'로 크로스엔트로피 손실을 구할 수 있습니다.
  
  - 'liblinear'는 '1 vs 나머지' 구조에서만 사용합니다.

- max_iter: 정수값
  solver가 수렴하기 위한 최대 반복(iteration) 횟수를 설정합니다. 

- multi_class: {'auto', 'ovr', 'multinomial'}
  'ovr'일 경우 이항분포 문제에 적절하고, 'multinomial'일 경우 손실값은 확률분포에 따라 계산됩니다. 

### 로지스틱 회귀 분석

규제없는 로지스틱 회귀를 진행해보도록 하겠습니다. 

```python
lr = LogisticRegression(max_iter=1000, penalty='none')
lr.fit(X_train_scaled, y_train)
pred_lr = lr.predict(X_test_scaled)

print(f"트레인셋 정확도: {lr.score(X_train_scaled, y_train):.4f}")
print(f"테스트셋 정확도: {lr.score(X_test_scaled, y_test):.4f}")
```

```
트레인셋 정확도: 0.8020
테스트셋 정확도: 0.8101
```

```python
print(lr.coef_, lr.intercept_)
```

```
[[-1.92476322 -2.73171563 -2.54067665 -2.44782903 -0.81640742  1.19114007
  -0.46611087]] [3.8384024]
```

이를 식으로 표현하면 다음과 같습니다.

$$
z = 3.838 - 1.925 Pclass - 2.732 Sex - 2.541 Age - 2.448 SibSp\\
 - 0.816 Parch + 1.191 Fare - 0.466 Embarked 
$$

EDA 과정에서 살펴보았듯이 티켓등급이 높을수록, 여성일수록 생존확률은 높아짐을 확인할 수 있습니다. 

위 식에 테스트 데이터의 값들을 대입하여 z 값을 구할 수 있습니다.

```python
decisions = lr.decision_function(X_test_scaled)[:5]
decisions
```

```
array([-2.15944441, -1.27369295, -1.89087453,  2.17241792,  1.20024092])
```

Scipy에서 로지스틱 함수를 불러와 decisions 값을 변환시켜 주면 양성일 확률, 즉 1일 확률을 반환합니다. 

```python
from scipy.special import expit
expit(decisions)
```

```
array([0.10345197, 0.21862574, 0.13114479, 0.89774514, 0.76856764])
```

이 확률은 `predict_proba`를 통해서도 쉽게 구할 수 있습니다. 

```python
pred_df = pd.DataFrame(columns = {'decision', 0, 1, 'pred'})
pred_df['decision'] = decisions[0:5]
pred_df[[0, 1]] = lr.predict_proba(X_test_scaled)[:5]
pred_df['pred'] = pred_lr[:5]
pred_df
```

|     | 0        | 1        | pred |
| --- | -------- | -------- | ---- |
| 0   | 0.896548 | 0.103452 | 0.0  |
| 1   | 0.781374 | 0.218626 | 0.0  |
| 2   | 0.868855 | 0.131145 | 0.0  |
| 3   | 0.102255 | 0.897745 | 1.0  |
| 4   | 0.231432 | 0.768568 | 1.0  |

컬럼 1을 보면 앞서 구한 양성일 확률과 동일하게 나타남을 알 수 있습니다. 
또한, 1일 확률이 0.5가 넘으면 모델은 최종적으로 해당 케이스를 1로 예측한다는 것을 확인할 수 있습니다. 

### 하이퍼파라미터 튜닝

이제 규제를 포함해서 최적의 모델을 찾는 과정을 거치도록 합니다. 규제는 기본 규제인 l2 규제를 그대로 사용하고 규제 정도인 C 값을 조정합니다.

```python
param_grid = {'C': [0.001, 0.01, 0.1, 1, 10, 100]}

grid_search = GridSearchCV(LogisticRegression(max_iter=1000), 
                           param_grid, cv=5)
grid_search.fit(X_train_scaled, y_train)

print(f"Best Parameter: {grid_search.best_params_}")
print(f"Best Score: {grid_search.best_score_:.4f}")
print(f"Test Score: {grid_search.score(X_test_scaled, y_test):.4f}")
```

```
Best Parameter: {'C': 1}
Best Score: 0.7963
Test Score: 0.7989
```

```python
param_distribs = {'C': randint(low=0.001, high=100)}

random_search = RandomizedSearchCV(LogisticRegression(max_iter=1000),
                                   param_distributions=param_distribs, 
                                   n_iter=100, cv=5)
random_search.fit(X_train_scaled, y_train)

print(f"Best Parameter: {random_search.best_params_}")
print(f"Best Score: {random_search.best_score_:.4f}")
print(f"Test Score: {random_search.score(X_test_scaled, y_test):.4f}")
```

```
Best Parameter: {'C': 3}
Best Score: 0.7991
Test Score: 0.8045
```

그리드서치의 결과, C가 1일 때가 최적의 성능을 갖는다고 나왔지만
랜덤서치의 결과, C가 3일 때의 성능이 더 좋게 나왔습니다. 

그러므로 l2 규제를 한다면 규제 정도를 3으로 하는 것이 바람직합니다. 그러나 최종모델을 선정할 때에는 규제를 하지 않는 것도 방법이 될 수 있습니다. 처음 규제를 하지 않은 모델에서 테스트셋의 정확도가 0.8101이었던 반면, 규제 상태에서는 0.8045이기 때문입니다. 

이상으로 로지스틱회귀 분석을 마치도록 하겠습니다. 


